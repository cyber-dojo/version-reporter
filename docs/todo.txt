
Gitlab Demo

Lead time from commit to aws-prod is going to be ~10min
(or ~7mins if we don't deploy to aws-beta).

If you do each one demo for each of the three test jobs it will take a long time!
You could do all three in one commit
  1) add snyk vulnerability
  2) comment out tests
  3) git push not in pull-request
You could make a pre-recorded video and get JC to cut out the waiting?
These would be great for social media...

TODO: snyk needs authenticated account.
IIRC using Sami's...
Still ok for now

TODO: pull-request-job
Needs working gitlab-token. The one we tried gives 403 Forbidden.
There is no information on the URL being forbidden but we assume
it is from the Kosli CLI.

TODO: approval-job
$ kosli report approval ...
How do I find the --oldest-commit value?

TODO: prod-deployment-job
Needs env-vars for AWS_ACCESS_KEY_ID_PROD and AWS_SECRET_ACCESS_KEY_PROD

TODO: Change environment descriptions.
aws-beta == "The ECS cluster for staging cyber-dojo"
aws-prod == "The ECS cluster for production cyber-dojo"
There seems to be no API to do this.

TODO: Deployment diff not working for version-reporter
Eg https://app.kosli.com/cyber-dojo/environments/aws-beta/snapshots/2121?active_tab=running
The top-most artifact is version-reporter
Click its "Deployment diff" dropdown.
There is no Deployment diff URL
